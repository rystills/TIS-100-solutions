@0
MOV 0 ACC
SAV
S: MOV UP ACC
JEZ A
MOV ACC RIGHT
SWP
ADD 1
SAV
JMP S
A: SWP
MOV ACC DOWN

@1
MOV UP DOWN

@2
#PROPAGATE COUNT
MOV UP DOWN

@3
L:MOV RIGHT ACC
SAV
S:SWP
SUB 1
JLZ A
SWP
MOV UP DOWN
JMP S
A: MOV UP RIGHT
MOV RIGHT UP
MOV RIGHT ACC
R: SUB 1
JLZ L
MOV DOWN UP
JMP R

@4
MOV DOWN RIGHT
L:MOV UP ACC
SUB RIGHT
NEG
MOV ACC LEFT
SAV
MOV LEFT ACC
MOV ACC LEFT
SWP
MOV ACC LEFT
SWP
MOV ACC DOWN
JMP L

@5
MOV LEFT ACC
SUB 1
L: MOV ACC LEFT
JMP L

@6
MOV UP RIGHT

@7
MOV LEFT UP
L:MOV UP DOWN
JMP L

@8
